{% from "_source_macros.html.j2" import source_list %}
{% from "_macros.html.j2" import icon, pagination %}
{% if not filteronly %}
{% extends "root.html.j2" %}
{% block title %}Seed Sources{% endblock %}
{% block content %}
<h2><span class="me-2">{{ icon("geo-alt") }}</span>{{ self.title() }} <a class="ms-2" href="{{ "/source/new" | app_url }}">{{ icon("plus-square") }}</a></h2>
    <div class="mb-3">
    <form method="GET"
          action="{{ "/source/list" | app_url }}"
          hx-push-url="true"
          hx-boost="true"
          hx-target="#source-list"
          hx-get="{{ "/source/list" | app_url }}"
          hx-trigger="submit, input changed delay:500ms from:input">
        <input type="text"
           class="form-control"
           autofocus
           placeholder="Filter list..."
           name="filter">
    </form>
    </div>
<div class="mb-3" id="source-list">
    <div class="text-body-tertiary">{{ summary.total_items }} items found </div>
    {{ source_list() }}
    {{ pagination(summary.npages, summary.page, request_uri)}}
</div>
{% endblock %}
{% else %}
<div class="text-body-tertiary">{{ summary.total_items }} items found </div>
{{ source_list() }}
{{ pagination(summary.npages, summary.page, request_uri)}}
{% endif %}
