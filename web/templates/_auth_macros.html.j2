{% from "_macros.html.j2" import flash_message %}
{% macro login_form(username=none, message=none) %}
<form hx-post="{{ "/auth/login" | app_url }}"
      hx-target-error="#message-box"
      id="login-user">
    <div id="message-box">
    {{ flash_message(message) }}
    </div>
    <div class="row px-3 mb-3">
        <label class="form-label" for="UsernameInput">Username</label>
        <input id="UsernameInput"
               class="form-control"
               type="text"
               name="username"
               value="{{ username or "" }}">
    </div>
    <div class="row px-3 mb-3">
        <label class="form-label" for="PasswordInput">Password</label>
        <input id="PasswordInput"
               class="form-control"
               type="password"
               name="password">
    </div>
    <input type="hidden" name="next" value="{{ next or "" }}" />
    <div class="row px-3 mb-3">
        <button type="submit" class="btn btn-primary">Log in</button>
    </div>
</form>
<div>
Don't have an account yet? <a href="register">Register here</a>
</div>
{% endmacro %}

{% macro register_form(username=none, email_address=none, messages=none) %}
  <form hx-post="{{ "/auth/register" | app_url }}" id="register-user">
      {% for message in messages %}
          <div id="message-box">
              {{ flash_message(message) }}
          </div>
      {% endfor  %}
      <div class="row px-3 mb-3">
          <label class="form-label" for="UsernameInput">Username</label>
          <input id="UsernameInput"
                 class="form-control"
                 type="text"
                 value="{{ username or "" }}"
                 name="username">
      </div>
      <div class="row px-3 mb-3">
          <label class="form-label" for="PasswordInput">Email Address</label>
          <input id="EmailInput"
                 class="form-control"
                 type="email"
                 value="{{ email_address or "" }}"
                 name="email">
      </div>
      <div class="row px-3 mb-3">
          <label class="form-label" for="PasswordInput">Password</label>
          <input id="PasswordInput"
                 class="form-control"
                 type="password"
                 name="password">
      </div>
      <div class="row px-3 mb-3">
          <label class="form-label" for="PasswordConfirmInput">Confirm Password</label>
          <input id="PasswordConfirmInput"
                 class="form-control"
                 type="password"
                 name="passwordconfirm">
      </div>
      <div class="row px-3 mb-3">
          <button type="submit" class="btn btn-primary">Register</button>
      </div>
  </form>
{% endmacro %}
