{% from "_macros.html.j2" import icon, pagination, filter_sort_widget %}
{% from "_project_macros.html.j2" import project_list %}
{% if not filteronly %}
{% extends "root.html.j2" %}
{% block title %}Projects{% endblock %}
{% block content %}
<h2><span class="me-2">{{ icon("collection") }}</span>Projects <a class="ms-2" href="{{app_prefix}}/project/new">{{ icon("plus-square") }}</a></h2>
    <div class="mb-3">
        {{ filter_sort_widget(app_prefix ~ "/project/list", "#project-plus-pagination", filter_spec)}}
    </div>
    <div id="flash-messages"></div>
    <div id="project-plus-pagination">
    <div class="text-body-tertiary">{{ summary.total_items }} items found </div>
    {{ project_list() }}
    {{ pagination(summary.npages, summary.page, request_uri)}}
    </div>
{% endblock %}
{% else %}
    <div class="text-body-tertiary">{{ summary.total_items }} items found </div>
    {{ project_list() }}
    {{ pagination(summary.npages, summary.page, request_uri)}}
{% endif %}
