{% extends "root.html" %}
{% block title %}{{ location.name }} Details{% endblock %}
{% block content %}
<h2>Location Details</h2>
<form hx-put="{{ ("/location/" ~ location.id) | api_url }}">
    <div class="row mb-3">
        <label class="form-label" for="LocationIdInput">ID</label>
        <input type="text" id="LocationIdInput" class="form-control" value="{{ location.id }}" disabled readonly>
    </div>
    <div class="row mb-3">
        <label class="form-label" for="LocationNameInput">Name</label>
        <input type="text" id="LocationNameInput" class="form-control" name="name" value="{{ location.name }}"></dd>
    </div>
    <div class="row mb-3">
        <label class="form-label" for="LocationDescInput">Description</label>
        <textarea class="form-control" id="LocationDescInput" name="description">{{ location.description if location.description }}</textarea></dd>
    </div>
    <div class="row mb-3">
        <div class="col">
        <button type="submit" name="submit" class="btn btn-primary">Update</button>
        </div>
        <div class="col">
        <button type="button"
                class="btn btn-danger"
                hx-delete="{{ ("/location/" ~ location.id) | api_url }}"
                hx-confirm="Are you sure you wish to delete location {{location.id}}?"
                hx-target="closest form"
                >Delete</button>
        </div>
    </div>
    <input type="hidden" name="latitude" value="">
    <input type="hidden" name="longitude" value="">
</form>
<h3>{{ samples|count }} samples from this location</h3>
{% if samples %}
<ul>
{% for sample in samples %}
<li><a href="{{ ("/sample/" ~ sample.id) | app_url }}">{{ sample.id }} - {{ sample.taxon.complete_name }}</a></li>
{% endfor %}
</ul>
{% endif %}
{% endblock %}
